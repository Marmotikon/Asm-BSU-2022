# Лабораторная работа 4. Массивы.

Общие замечания:
Нумерация элементов массива начинается с 0. Размеры массивов не превышают 230.
Если иное не оговорено, использовать целочисленные арифметические операции.
Остаток от деления для отрицательных чисел считать по правилам модульной арифметики (т. е. остаток от деления -3 на 5 равен 2).

_Использование функций запрещено!_ 
_Использование оперативной памяти (глобальных переменных, стека, ...), за исключением передаваемых через аргументы областей памяти, также запрещено!_

### Блок I. Массив (и элементы, и размер) не должен изменяться в процессе выполнения функции.

* [7 баллов]
Найти произведение элементов массива по некоторому модулю 2M230.
Гарантируется, что массив содержит хотя бы один элемент.

  ```c
  extern "C" int32_t AsmProduct(
      const int32_t* array, int32_t size, int32_t module);
  ```

* [7 баллов]
Найти сумму элементов, которые при делении на 3 и на 5 дают нечетные остатки, по некоторому модулю 2M250. Все элементы неотрицательные.

  ```c
  extern "C" int64_t AsmSpecialSum(
      const int64_t* array, int64_t size, int64_t module);
  ```
  
* [12 баллов]
Посчитать a0*2a1– 3a2*4a3+ 5a4*6a5 – ... . 
Гарантируется, что массив содержит чётное число элементов, а результат вычисляется без переполнения при стандартном порядке операций и использовании 64-битных регистров.

  ```c
  extern "C" int64_t AsmArrayFormula(
      const int32_t* array, int32_t size);
  ```
* [12 баллов]
Функция должна принимать два массива и выдавать количество элементов первого массива, которые отсутствуют во втором.

  ```c
  extern "C" int64_t AsmCompare(
      const int64_t* array1, int64_t size1,
      const int64_t* array2, int64_t size2);
  ```


### Блок II. Элементы массива должны изменяться, а размер не должен быть изменён.

* [12 баллов]
Элементы, кратные 5, заменить на 0, а элементы, дающие четные остатки при делении на 5, заменить на 1. Остальные элементы заменить на –1. Гарантируется, что все числа во входном массиве неотрицательные.

  ```c
  extern "C" void AsmSimpleModify(int32_t* array, int32_t size);
  ```
* [20 баллов]
Заменить все элементы, которые находятся в ячейках между минимальным и максимальным элементами (включая их), на последовательность чисел “1, 2, 3, ...”. Изначально все элементы в массиве различные. Гарантируется, что массив содержит хотя бы один элемент.

  ```c
  extern "C" void AsmSetToSequence(int64_t* array, int32_t size);
  ```
* [20 баллов]
Разбить элементы массива на группы по k элементов. В каждой группе осуществить циклический сдвиг влево на 1 (первый переходит на k-oe место). Если количество элементов в массиве не кратно k, то для последней группы сдвиг осуществляется для того количества элементов, которое осталось. 
Кроме того, гарантируется, что k > 0.

  ```c
  extern "C" void AsmRotateInGroups(
  int64_t* array, int32_t size, int32_t k);
  ```
### Блок III. Могут измениться как элементы массива, так и размер.
Во всех задачах гарантируется, что выделенной под массив памяти должно хватить для размещения всех элементов.

* [20 баллов]
Удалить из массива все элементы, которые отличаются от числа X не более чем на D и являются положительными нечетными числами. Новый размер вернуть как возвращаемое значение. Гарантируется, что d - неотрицательное.

  ```c
  extern "C" int32_t AsmRemoveIfSimilar(
      int64_t* array, int32_t size,
  int64_t x, int64_t d);
  ```
* [25 баллов]
Заменить каждый элемент a[i] на группу из ceil(a[i] / K) подряд идущих значений, равных a[i]. Пример: K = 2, a = {1, 2, 3, 2, 4, 4} --> { 1, 2, 3, 3, 2, 4, 4, 4, 4 }.
Изменить передаваемый по указателю размер.
Кроме того, гарантируется, что все элементы неотрицательные, а k > 0.

  ```c
  extern "C" void AsmReplaceWithGroup(
      int64_t* array, int32_t* size, int32_t k);
  ```
* [25 баллов]
Выполнить слияние двух отсортированных массивов в один. Входные массивы array1 и array2 передаются по НЕизменяемому указателю. Гарантируется, что:
    - по указателю для результата выделено не менее len1+len2 ячеек;
    - выходной массив не пересекается с входными аргументами;
    - оба массива отсортированы в порядке неубывания.  
  
  В результирующем массиве должен сохраниться порядок "по неубыванию".
__Замечание:__ В данной задаче разрешается использовать стек, но только для чтения аргумента.

  ```c
  extern "C" void AsmMerge(
  const int64_t* array1, int64_t size1,
      const int64_t* array2, int64_t size2,
      int64_t* result);
  ```
### Блок IV. Двумерные массивы

* [20 баллов]
Дан двумерный массив А[m][n]. Положительные элементы массива увеличить в два раза, а отрицательные – увеличить на 1.

  ```c
  extern "C" void AsmModify2D(
  int64_t** array, int64_t n, int64_t m);
  ```

* [20 баллов]
Дан двумерный массив А[m][n]. Вывести сумму номеров строк, элементы которых образуют __строго__ возрастающую последовательность.
Гарантируется, что массив содержит хотя бы один элемент.
    Нумерация строк начинается с 0.

  ```c
  extern "C" int32_t AsmFindSorted(
      const int32_t** array, int32_t n, int32_t m);
  ```
